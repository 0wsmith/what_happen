{"repository_name":"github.com/shootingfly/what_happen","body":"# What Happen\n\n[![Travis CI build](https://img.shields.io/travis/shootingfly/what_happen/master.svg?style=flat-square)](https://travis-ci.org/shootingfly/what_happen)\n[![Built with Crystal](https://img.shields.io/badge/built%20with-crystal-000000.svg?style=flat-square)](https://crystal-lang.org/)\n[![Latest release](https://img.shields.io/github/release/shootingfly/what_happen.svg?style=flat-square)](https://github.com/shootingfly/what_happen/releases)\n[![API docs](https://img.shields.io/badge/api_docs-online-brightgreen.svg?style=flat-square)](https://shootingfly.github.io/what_happen/)\n\nTell you what happen when x changes to y.\n\nWork on methods without any arguments or all arguments have default values.\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n```yaml\ndependencies:\n  what_happen:\n    github: shootingfly/what_happen\n```\n\n2. Run `shards install`\n\n## Usage\n\n```crystal\nrequire \"what_happen\"\n\nputs what_happen(from: [1, 2, 3], to: 1) # => [\"first\", \"first?\", \"min\", \"min?\"]\n```\n\n## Expection\n\nIt doesn't work on the following methods.\n```crystal\n[\"transpose\", \"to_h\", \"sample\", \"sum\", \"product\"]\n```\n\n## Contributing\n\n1. Fork it (<https://github.com/shootingfly/what_happen/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [Shootingfly](https://github.com/shootingfly) - creator and maintainer\n\n## Thanks\n\nThanks to jbodah for his awesome work on [suggest_rb](https://github.com/jbodah/suggest_rb)","program":{"html_id":"github.com/shootingfly/what_happen/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"superclass":null,"ancestors":[],"locations":[],"repository_name":"github.com/shootingfly/what_happen","program":true,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[{"id":"what_happen(from,to):Array(String)-class-method","html_id":"what_happen(from,to):Array(String)-class-method","name":"what_happen","doc":"Tells you what happen from x to y\n\n```\nwhat_happen(from: false, to: \"false\")   # => [\"to_s\", \"inspect\", \"pretty_inspect\"]\nwhat_happen(from: 1, to: -1)            # => [\"-\"]\nwhat_happen(from: {1, 2, 3}, to: 1)     # => [\"first\", \"first?\", \"min\", \"min?\"]\nwhat_happen(from: {a: 1}, to: {:a})     # => [\"keys\", \"sorted_keys\"]\nwhat_happen(from: [1, 2], to: 1)        # => [\"first\", \"first?\", \"min\", \"min?\"]\nwhat_happen(from: [1, 2, 3], to: 3)     # => [\"size\", \"last\", \"last?\", \"max\", \"max?\"]\nwhat_happen(from: \"hello\", to: \"HELLO\") # => [\"upcase\"]\nwhat_happen(from: \"Hello\", to: \"hello\") # => [\"downcase\", \"underscore\"]\n```","summary":"<p>Tells you what happen from x to y</p>","abstract":false,"args":[{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":""},{"name":"to","doc":null,"default_value":"","external_name":"to","restriction":""}],"args_string":"(from, to) : Array(String)","source_link":"https://github.com/shootingfly/what_happen/blob/30247bd0e2b60a4a81567757e68981a03b0fc504/src/what_happen.cr#L15","def":{"name":"what_happen","args":[{"name":"from","doc":null,"default_value":"","external_name":"from","restriction":""},{"name":"to","doc":null,"default_value":"","external_name":"to","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"from.what_happen?(to)"}}],"constructors":[],"instance_methods":[],"macros":[{"id":"generate_what_happen_by_ancestors-macro","html_id":"generate_what_happen_by_ancestors-macro","name":"generate_what_happen_by_ancestors","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/shootingfly/what_happen/blob/30247bd0e2b60a4a81567757e68981a03b0fc504/src/what_happen/macro.cr#L16","def":{"name":"generate_what_happen_by_ancestors","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"  \n{% if true %}\n    {% for k in @type.ancestors %}\n    {% methods = k.methods.select do |x|\n  ((x.args.size == 0) || x.args.all? do |c|\n    (!c.default_value.is_a?(Nop)) || (c.name == \"\")\n  end) && (!x.accepts_block?)\nend.map(&.name) %}\n      {% for m in methods %}\n        {% if !(WhatHappen::SKIP_METHODS.includes?(m.stringify)) %}\n          array << {{ m.stringify }} if expect == self.{{ m.id }} rescue false\n        {% end %}\n      {% end %}\n    {% end %}\n  {% end %}\n\n\n"}},{"id":"generate_what_happen_by_self-macro","html_id":"generate_what_happen_by_self-macro","name":"generate_what_happen_by_self","doc":null,"summary":null,"abstract":false,"args":[],"args_string":"","source_link":"https://github.com/shootingfly/what_happen/blob/30247bd0e2b60a4a81567757e68981a03b0fc504/src/what_happen/macro.cr#L5","def":{"name":"generate_what_happen_by_self","args":[],"double_splat":null,"splat_index":null,"block_arg":null,"visibility":"Public","body":"  \n{% if true %}\n    {% methods = @type.methods.select do |x|\n  ((x.args.size == 0) || x.args.all? do |c|\n    (!c.default_value.is_a?(Nop)) || (c.name == \"\")\n  end) && (!x.accepts_block?)\nend.map(&.name) %}\n    {% for m in methods %}\n      {% if !(WhatHappen::SKIP_METHODS.includes?(m.stringify)) %}\n        array << {{ m.stringify }} if expect == self.{{ m.id }} rescue false\n      {% end %}\n    {% end %}\n  {% end %}\n\n\n"}}],"types":[{"html_id":"github.com/shootingfly/what_happen/Number","path":"Number.html","kind":"struct","full_name":"Number","name":"Number","abstract":true,"superclass":{"html_id":"github.com/shootingfly/what_happen/Value","kind":"struct","full_name":"Value","name":"Value"},"ancestors":[{"html_id":"github.com/shootingfly/what_happen/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"github.com/shootingfly/what_happen/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"github.com/shootingfly/what_happen/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"what_happen/extension.cr","line_number":15,"url":"https://github.com/shootingfly/what_happen/blob/30247bd0e2b60a4a81567757e68981a03b0fc504/src/what_happen/extension.cr"}],"repository_name":"github.com/shootingfly/what_happen","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[{"html_id":"github.com/shootingfly/what_happen/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"}],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"The top-level number type.","summary":"<p>The top-level number type.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"(other):Int32?-instance-method","html_id":"(other):Int32?-instance-method","name":"<=>","doc":"The comparison operator.\n\nReturns:\n- `-1` if `self` is less than *other*\n- `0` if `self` is equal to *other*\n- `-1` if `self` is greater than *other*\n- `nil` if self is `NaN` or *other* is `NaN`, because `NaN` values are not comparable","summary":"<p>The comparison operator.</p>","abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"args_string":"(other) : Int32?","source_link":"https://github.com/shootingfly/what_happen/blob/30247bd0e2b60a4a81567757e68981a03b0fc504/src/what_happen/extension.cr#L16","def":{"name":"<=>","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Int32 | ::Nil","visibility":"Public","body":"if !other.is_a?(Number)\n  return nil\nend\nif self.is_a?(Float) && self.nan?\n  return nil\nend\nif other.is_a?(Float) && other.nan?\n  return nil\nend\nself > other ? 1 : (self < other ? -1 : 0)\n"}}],"macros":[],"types":[]},{"html_id":"github.com/shootingfly/what_happen/Object","path":"Object.html","kind":"class","full_name":"Object","name":"Object","abstract":true,"superclass":null,"ancestors":[],"locations":[{"filename":"what_happen/extension.cr","line_number":1,"url":"https://github.com/shootingfly/what_happen/blob/30247bd0e2b60a4a81567757e68981a03b0fc504/src/what_happen/extension.cr"}],"repository_name":"github.com/shootingfly/what_happen","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":"`Object` is the base type of all Crystal objects.","summary":"<p><code><a href=\"Object.html\">Object</a></code> is the base type of all Crystal objects.</p>","class_methods":[],"constructors":[],"instance_methods":[{"id":"(other)-instance-method","html_id":"(other)-instance-method","name":"<=>","doc":null,"summary":null,"abstract":false,"args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"args_string":"(other)","source_link":"https://github.com/shootingfly/what_happen/blob/30247bd0e2b60a4a81567757e68981a03b0fc504/src/what_happen/extension.cr#L9","def":{"name":"<=>","args":[{"name":"other","doc":null,"default_value":"","external_name":"other","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"","visibility":"Public","body":"if !other.is_a?(self.class)\n  return nil\nend\nother <=> self\n"}},{"id":"what_happen?(expect):Array(String)-instance-method","html_id":"what_happen?(expect):Array(String)-instance-method","name":"what_happen?","doc":null,"summary":null,"abstract":false,"args":[{"name":"expect","doc":null,"default_value":"","external_name":"expect","restriction":""}],"args_string":"(expect) : Array(String)","source_link":"https://github.com/shootingfly/what_happen/blob/30247bd0e2b60a4a81567757e68981a03b0fc504/src/what_happen/extension.cr#L2","def":{"name":"what_happen?","args":[{"name":"expect","doc":null,"default_value":"","external_name":"expect","restriction":""}],"double_splat":null,"splat_index":null,"yields":null,"block_arg":null,"return_type":"Array(String)","visibility":"Public","body":"array = [] of String\ngenerate_what_happen_by_ancestors\ngenerate_what_happen_by_self\narray.uniq\n"}}],"macros":[],"types":[]},{"html_id":"github.com/shootingfly/what_happen/WhatHappen","path":"WhatHappen.html","kind":"module","full_name":"WhatHappen","name":"WhatHappen","abstract":false,"superclass":null,"ancestors":[],"locations":[{"filename":"what_happen/macro.cr","line_number":1,"url":"https://github.com/shootingfly/what_happen/blob/30247bd0e2b60a4a81567757e68981a03b0fc504/src/what_happen/macro.cr"},{"filename":"what_happen/version.cr","line_number":1,"url":"https://github.com/shootingfly/what_happen/blob/30247bd0e2b60a4a81567757e68981a03b0fc504/src/what_happen/version.cr"}],"repository_name":"github.com/shootingfly/what_happen","program":false,"enum":false,"alias":false,"aliased":"","const":false,"constants":[{"id":"SKIP_METHODS","name":"SKIP_METHODS","value":"[\"transpose\", \"to_h\", \"sample\", \"sum\", \"product\"]","doc":null,"summary":null},{"id":"VERSION","name":"VERSION","value":"\"0.1.0\"","doc":null,"summary":null}],"included_modules":[],"extended_modules":[],"subclasses":[],"including_types":[],"namespace":null,"doc":null,"summary":null,"class_methods":[],"constructors":[],"instance_methods":[],"macros":[],"types":[]}]}}